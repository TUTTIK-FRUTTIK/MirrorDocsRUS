# Multiplex Transport

Multiplex Transport сам по себе это не транспорт, но он позволяет вам комбинировать другие транспорты, чтобы ваши клиенты могли подключаться к вашим серверам через любой из них.

Распространенным вариантом использования Multiplex Transport является сервер, прослушивающий как WebGL, так и мобильные / настольные клиенты. Ваши клиенты WebGL могут подключаться к серверу с помощью [Websocket Transport](websockets-transport/) и ваши мобильные или настольные клиенты могут подключаться к одному и тому же серверу с помощью протоколов TCP или UDP. Вы можете настроить любое количество транспортов в Multiplex Transport.

Чтобы использовать Multiplex Transport следуйте этим шагам:

1. Добавьте игровой объект с Network Manager в вашу сцену если вы этого ещё не сделали
2. По умолчанию Mirror добавляет KCP Transport к Network Manager'у
3. Добавьте компонент Multiplex Transport на ваш игровой объект
4. Назначьте компонент Multiplex Transport в поле transport у Network Manager
5. Добавьте компонент Websocket Transport к этому же игровому объекту
6. Добавьте компонент KCP Transport в Multiplex Transport как первый транспорт
7. Добавьте компонент Websocket Transport в Multiplex Transport как второй транспорт

Пожалуйста, обратите внимание, что KCP и Websocket Transport не могут прослушивать один и тот же порт. По умолчанию KCP прослушивает 7777 (UDP), а транспорт websocket прослушивает 7778 (TCP).

Если вы создадите свою игру как игру на WebGL, транспортировка KCP будет пропущена, и ваш клиент будет использовать транспорт websocket. Если вы создадите свою игру как мобильное или настольное приложение, оно выберет KCP Transport. Сервер с радостью примет соединения от обоих.

Вот как должна выглядеть конфигурация:

<div align="left">

<img src="../../.gitbook/assets/image (30).png" alt="">

</div>
