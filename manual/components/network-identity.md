# Network Identity

{% hint style="info" %}
Смотрите также [NetworkIdentity](https://storage.googleapis.com/mirror-api-docs/html/d3/d88/class\_mirror\_1\_1\_network\_identity.html) в API Reference.
{% endhint %}

Компонент Network Identity это сердце высокоуровневого сетевого API Unity. Он управляет уникальным идентификатором игрового объекта в сети и использует этот идентификатор для информирования сетевой системы об игровом объекте.

* **Server Only**\
  Установите этот флажок, чтобы гарантировать, что Unity создает игровой объект только на сервере, а не на клиентах.

![](<../../.gitbook/assets/image (20).png>)

{% hint style="danger" %}
Важно отметить, что Mirror не поддерживает Network Identity для дочерних игровых объектов. В противном случае Mirror выдаст сообщение об ошибке. Чтобы избежать этого, убедитесь, что ваш родительский GameObject является единственным GameObject в стеке с Network Identity. Дочерние игровые объекты могут получить доступ к родительскому компоненту сетевой идентификации с помощью встроенной в Unity скриптовой функции GetComponentInParent.
{% endhint %}

## Создание сетевых игровых объектов <a href="#instantiated-network-game-objects" id="instantiated-network-game-objects"></a>

В сетевой системе, управляемой сервером Mirror, сервер должен создавать сетевые игровые объекты с сетевыми идентификаторами, используя `NetworkServer.Spawn`. Это автоматически создает их на клиентах, подключенных к серверу, как и самому серверу, и присваивает им `netId`.

Вы должны поместить компонент Network Identity во все Prefab'ы, которые создаются во время выполнения, чтобы сетевая система могла их использовать.

## Scene-based Network Game Objects <a href="#scene-based-network-game-objects" id="scene-based-network-game-objects"></a>

Вы также можете добавлять в сеть игровые объекты, которые которые уже заранее лежат на вашей сцене (например, реквизит окружающей среды). Сетевые игровые объекты заставляют их вести себя немного по-другому, так как вам нужно, чтобы они появлялись по сети.

При создании вашей игры Unity отключает все игровые объекты заранее заложенные в сцене с компонентами Network Identity. Когда клиент подключается к серверу, сервер отправляет сообщения о появлении, сообщающие клиенту, какие игровые объекты сцены следует включить и какова их самая актуальная информация о состоянии. Это гарантирует, что игра клиента не содержит игровых объектов в неправильных местах, когда они начинают играть, или что Unity не создает и немедленно не уничтожает игровые объекты при подключении (например, если событие удалило игровой объект до того, как этот клиент подключился). Смотрите [Networked Scene Game Objects](../guides/gameobjects/scene-gameobjects.md) для получения более подробной информации.

## Preview Pane Information <a href="#preview-pane-information" id="preview-pane-information"></a>

Этот компонент содержит информацию о сетевом отслеживании и отображает эту информацию на панели предварительного просмотра. Например, идентификатор сцены, идентификатор сети и идентификатор ресурса, который был присвоен объекту. Это позволяет вам просматривать информацию, которая может быть полезна для расследования и отладки.

![](<../../.gitbook/assets/image (87).png>)

Во время выполнения здесь отображается дополнительная информация (отключенное NetworkBehaviour отображается не жирным шрифтом).:

![](<../../.gitbook/assets/image (82).png>)
