# Network Manager HUD

Network Manager HUD (“heads-up display”) это инструмент, который поможет вам сразу приступить к созданию вашей многопользовательской игры, не создавая предварительно пользовательский интерфейс для создания игры / подключения / присоединения. Это позволяет вам сразу перейти к программированию игрового процесса и означает, что вы сможете создать свою собственную версию этих элементов управления позже в рамках вашего графика разработки.

Однако он не предназначен для включения в готовые игры. Идея в том, что эти элементы управления полезны для начала работы, но позже вам следует создать свой собственный пользовательский интерфейс, чтобы ваши игроки могли находить игры и присоединяться к ним способом, подходящим для вашей игры. Например, вы можете захотеть стилизовать дизайн окон, кнопок и списка доступных игр в соответствии с общим стилем вашей игры.

Чтобы начать использовать Network Manager HUD, либо добавьте компонент в тот же объект сцены, в котором есть компонент Network Manager, либо создайте пустой игровой объект в вашей сцене (меню: игровой объект > Создать пустой) и добавьте компонент Network Manager HUD в новый игровой объект.

![](<../../.gitbook/assets/image (127).png>)

* **Show GUI**\
  Установите этот флажок, чтобы отображать GUI HUD во время выполнения. Это позволяет вам раскрыть или скрыть его для быстрой отладки.
* **Offset X**\
  Установите горизонтальное смещение **пикселя** графического интерфейса HUD, измеряемое от левого края экрана.
* **Offset Y**\
  Установите вертикальное смещение **пикселя** графического интерфейса HUD, измеряемое от верхнего края экрана.

Network Manager HUD предоставляет основные функции, позволяющие пользователям, играющим в вашу игру, начать размещать сетевую игру или найти существующую сетевую игру и присоединиться к ней. Unity отображает Network Manager HUD в виде набора простых кнопок пользовательского интерфейса в режиме Game view.

![](<../../.gitbook/assets/image (7).png>)

## Использование HUD <a href="#using-the-hud" id="using-the-hud"></a>

Network Manager HUD запускается в режиме Сервер + клиент и отображает кнопки, относящиеся к размещению и присоединению к многопользовательской игре.

### Хост (Сервер + Клиент) <a href="#host-server--client" id="host-server--client"></a>

Нажмите кнопку Host (Сервер + клиент), чтобы запустить игру от имени хоста в локальной сети. Этот клиент является одновременно хозяином и одним из игроков в игре. Он использует информацию из раздела "Информация о сети" в инспекторе для размещения игры.

Когда вы нажимаете на эту кнопку, HUD переключается на простое отображение сведений о сети и кнопки остановки, которая позволяет вам прекратить размещение игры и вернуться в главное меню HUD.

![](<../../.gitbook/assets/image (121).png>)

Когда вы запустили игру в качестве хоста, другие игроки игры могут подключиться к хосту, чтобы присоединиться к игре.

Нажмите кнопку "Стоп", чтобы отключиться от хоста. Нажатие кнопки "Стоп" также возвращает к главному меню HUD.

### Клиент <a href="#client" id="client"></a>

Чтобы подключиться к хосту в Интернете, используйте текстовое поле справа от кнопки клиента, чтобы указать адрес хоста. Адрес хоста по умолчанию - “localhost”, что означает, что клиент ищет хост игры на своем собственном компьютере. Вместо localhost вы можете указать IPv4-адрес и IPv6-адрес или полное доменное имя (FQDN), например game.example.com , и транспорт с разрешением имени с помощью DNS. Нажмите кнопку Клиент, чтобы попытаться подключиться к указанному вами адресу хоста.

Используйте значение по умолчанию “localhost” в этом поле, если вы запускаете несколько экземпляров своей игры на одном компьютере, чтобы протестировать интерактивность многопользовательской игры. Чтобы сделать это, вы можете создать отдельный билд своей игры, а затем запустить ее несколько раз на своем компьютере. Это распространенный способ быстро проверить, что ваши сетевые игровые взаимодействия функционируют так, как вы ожидаете, без необходимости развертывать игру на нескольких компьютерах или устройствах.

![](<../../.gitbook/assets/image (55).png>)

Если вы хотите протестировать свою игру на нескольких компьютерах, вам нужно ввести адрес компьютера, выступающего в качестве хоста, в текстовое поле address.

Компьютер, выступающий в качестве хоста, должен сообщить свой IP-адрес всем запущенным клиентам, чтобы вы могли ввести его в поле. Для локальных клиентов в локальной сети это локальный IP-адрес. Для удаленных клиентов это IP-адрес глобальной сети маршрутизатора хоста. Правила брандмауэра и переадресация портов обычно требуются для того, чтобы компьютер мог выступать в качестве хоста и принимать соединения с других компьютеров, независимо от того, находятся ли они в локальной сети или Интернете.

Введите IP-адрес (или оставьте его как “localhost”, если вы тестируете его на своем компьютере), затем нажмите "Клиент", чтобы попытаться подключиться к хосту.

Когда клиент пытается подключиться, на дисплее HUD отображается кнопка отмены попытки подключения. Нажмите на это, если вы хотите прекратить попытки подключиться к хосту.

![](<../../.gitbook/assets/image (116).png>)

Если подключение выполнено успешно, на дисплее HUD отобразится кнопка остановки. Нажмите на неё, если вы хотите остановить игру на клиенте и отключиться от хоста:

![](<../../.gitbook/assets/image (9).png>)

### Только сервер <a href="#server-only" id="server-only"></a>

Нажмите "Сервер" только для запуска игры, которая действует как сервер, к которому могут подключаться другие клиенты, но которая не является клиентом самой игры. Этот тип игр часто называют “выделенным сервером”. Пользователь не может играть в игру на этом конкретном экземпляре вашей игры. Все игроки должны подключаться как клиенты, и никто не играет на экземпляре, который запущен как сервер.

Выделенный сервер обеспечивает более высокую производительность для всех подключенных игроков, поскольку серверу не нужно обрабатывать игру локального игрока в дополнение к выполнению функций сервера.

Вы также можете выбрать этот вариант, если хотите разместить игру, в которую можно играть через Интернет (а не только в локальной сети), но хотите сохранить контроль над сервером самостоятельно - например, чтобы предотвратить мошенничество со стороны одного из клиентов, поскольку только сервер имеет полномочия над игрой на сервере. Чтобы сделать это, вам нужно будет запустить игру только в режиме сервера на компьютере с общедоступным IP-адресом.
